<div class="ui three column centered grid fellow-top-padding">
  <div class="column">
    <h3><p>Invite User</p></h3>
    <%= simple_form_for @user_invite do |f| %>
      <%= f.input :email, placeholder: "User Email", label: '<p class="fellow-lables">Email</p>'.html_safe, autofocus: true %>
      <%= f.button :submit, "Send Invite" %>
      <div class="ui basic button" id="cancelEventFormButton"><a>Cancel</a></div>
    <% end %>
  </div>
</div>


<script type="text/javascript">
 $(document).ready(function(){

   $('#cancelEventFormButton').on('click', function(){
     var data = $('#new_user_invite').serializeArray().reduce(function(obj, item) {
       obj[item.name] = item.value;
       return obj;
     }, {});
     if (checkData(data)){
       alertify.confirm("Please Confirm", "Are you sure you want to continue. Your data will not be saved.", function(){

         window.location = "<%= admin_users_path %>"

       }, function () {})
     } else {
       window.location = "<%= admin_users_path %>"
     }
   });

   // Code to check if a form has any values filled
   function checkData(data) {
     var count = 0;
     for (variable in data)
 	   { if (!(variable === "utf8" || variable === "authenticity_token")) {
	     if (!(data[variable] == "")){
           return true;
         }
       }
       }
   };

 });

</script>
